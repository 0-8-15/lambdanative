
private String camera_tmp;
private String camera_fnl;

private void startCamera(String fnl_name, String tmp_name) {
  camera_fnl = fnl_name;
  camera_tmp = tmp_name;
  Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
  File f = new File(camera_tmp);
  if (f != null) {
    intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(f));
    intent.putExtra(android.provider.MediaStore.EXTRA_SCREEN_ORIENTATION,ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    startActivityForResult(intent, 1);
  }
}

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
  if (resultCode == Activity.RESULT_OK) {
    File src = new File(camera_tmp);
    File tgt = new File(camera_fnl);
    if (src.exists()) { src.renameTo(tgt); }
  }
  return;
}

